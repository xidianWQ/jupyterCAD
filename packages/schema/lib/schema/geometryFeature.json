{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://jupytercad.org/schemas/geometryFeature.json",
    "title": "IGeometryFeature",
    "description": "Unified geometric feature definition for assembly constraints (compatible with DTEditor Assembly Schema)",
    "type": "object",
    "required": ["type", "name"],
    "additionalProperties": false,
    "properties": {
        "type": {
            "type": "string",
            "enum": ["Feature::Circle", "Feature::Arc", "Feature::Face", "Feature::Plane", "Feature::Point", "Feature::Edge"],
            "description": "Feature type for assembly constraints"
        },
        "name": {
            "type": "string",
            "description": "Feature name/identifier"
        },
        "position": {
            "type": "array",
            "description": "Position [x, y, z] - for point, cylinder, cone, torus",
            "items": {
                "type": "number"
            },
            "minItems": 3,
            "maxItems": 3
        },
        "center": {
            "type": "array",
            "description": "Center point [x, y, z] - for sphere, circle, arc, face, plane",
            "items": {
                "type": "number"
            },
            "minItems": 3,
            "maxItems": 3
        },
        "start": {
            "type": "array",
            "description": "Start point [x, y, z] - for edge, arc",
            "items": {
                "type": "number"
            },
            "minItems": 3,
            "maxItems": 3
        },
        "end": {
            "type": "array",
            "description": "End point [x, y, z] - for edge, arc",
            "items": {
                "type": "number"
            },
            "minItems": 3,
            "maxItems": 3
        },
        "axis": {
            "type": "array",
            "description": "Direction axis [x, y, z] (normalized) - for cylinder, cone, torus",
            "items": {
                "type": "number"
            },
            "minItems": 3,
            "maxItems": 3
        },
        "normal": {
            "type": "array",
            "description": "Normal vector [x, y, z] (normalized) - for circle, arc, face, plane",
            "items": {
                "type": "number"
            },
            "minItems": 3,
            "maxItems": 3
        },
        "radius": {
            "type": "number",
            "exclusiveMinimum": 0,
            "description": "Radius - for cylinder, sphere, circle, arc"
        },
        "startAngle": {
            "type": "number",
            "description": "Start angle in radians - for arc"
        },
        "endAngle": {
            "type": "number",
            "description": "End angle in radians - for arc"
        },
        "radius1": {
            "type": "number",
            "exclusiveMinimum": 0,
            "description": "First/bottom radius - for cone"
        },
        "radius2": {
            "type": "number",
            "exclusiveMinimum": 0,
            "description": "Second/top radius - for cone"
        },
        "tube": {
            "type": "number",
            "exclusiveMinimum": 0,
            "description": "Tube radius - for torus"
        },
        "height": {
            "type": "number",
            "exclusiveMinimum": 0,
            "description": "Height - for cylinder, cone"
        },
        "bounds": {
            "description": "Bounding information - for face"
        },
        "metadata": {
            "type": "object",
            "description": "Additional feature metadata (e.g., surfaceFinish, tolerance, fit, material)",
            "additionalProperties": true
        }
    }
}
